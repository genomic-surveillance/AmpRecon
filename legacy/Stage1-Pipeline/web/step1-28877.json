{"edges":[{"id":"illumina2bam_to_ti2b","to":"tee_i2b","from":"illumina2bam"},{"from":"tee_i2b:baf","to":"bamindexdecoder","id":"ti2b_to_bamadapterfind"},{"id":"decoder_to_metrics","from":"bamindexdecoder:metrics_file","to":"decoder_metrics"},{"id":"decoder_metrics_to_qc_tag_metrics","to":"qc_tag_metrics_check","from":"decoder_metrics"},{"to":"bamcollate","from":"bamindexdecoder","id":"bamindexdecoder_to_collate"},{"id":"collate_to_tee","from":"bamcollate","to":"tee_collated"},{"to":"bamadapterfind","from":"tee_collated:td1","id":"tee_collated_to_baf"},{"from":"bamadapterfind","to":"bammerge:unaln_bam","id":"baf_to_merge"},{"id":"tee_collated_to_alignment","from":"tee_collated:td2","to":"alnphix_tee4"},{"to":"alnphix_bwa_aln_1:reference_genome_fasta","from":"reference_phix","id":"ref_to_alignment"},{"from":"alnphix_samtobam","to":"bammerge","id":"alignment_to_merge"},{"id":"merge_to_tee","to":"tee_split","from":"bammerge"},{"id":"tee_to_create_filter","to":"create_filter","from":"tee_split:spatial_filter"},{"id":"create_filter_to_file","to":"spatial_filter_file","from":"create_filter"},{"from":"tee_split:subsample","to":"subsample","id":"tee_to_ss"},{"id":"ss_to_b2fqss","from":"subsample","to":"bamtofastq_ss"},{"id":"b2fqss_to_fq1","from":"bamtofastq_ss:ss_fq1","to":"run_lane_ss_fq1"},{"id":"b2fqss_to_fq2","to":"run_lane_ss_fq2","from":"bamtofastq_ss:ss_fq2"},{"id":"tee_to_stats","from":"tee_split:stats","to":"samtools_stats"},{"to":"lane_stats_file","from":"samtools_stats","id":"stats_to_file"},{"id":"stats_to_qc_samtools_stats","to":"qc_samtools_stats_check","from":"lane_stats_file"},{"to":"splitter","from":"tee_split:split_bam","id":"tee_to_splitter"},{"id":"tee_to_seqchksum","from":"tee_split:seqchksum","to":"seqchksum"},{"from":"seqchksum","to":"seqchksum_file","id":"fs1p_to_tee"},{"id":"fopt_to_scs","from":"seqchksum_file","to":"head_scs2_input"},{"id":"input_chksum_to_scs1head","to":"head_scs1_input","from":"seqchksum_input"},{"to":"cmp_seqchksum:inputchk","from":"head_scs1_input","id":"scs1head_to_cmp"},{"to":"cmp_seqchksum:outputchk","from":"head_scs2_input","id":"scs2head_to_cmp"},{"id":"ti2b_to_bam","from":"tee_i2b:scs","to":"seqchksum_input"},{"id":"bwa_aln_bam1","to":"alnphix_bwa_aln_1:bam_in","from":"alnphix_tee4:aln_1"},{"from":"alnphix_tee4:aln_2","to":"alnphix_bwa_aln_2:bam_in","id":"bwa_aln_bam2"},{"id":"tee_to_cat1","to":"alnphix_simple_cat1","from":"alnphix_tee4:sampe_1"},{"id":"cat1_to_sampe1","to":"alnphix_bwa_sampe:bam_1","from":"alnphix_simple_cat1"},{"to":"alnphix_simple_cat2","from":"alnphix_tee4:sampe_2","id":"tee_to_cat2"},{"id":"cat1_to_sampe2","from":"alnphix_simple_cat2","to":"alnphix_bwa_sampe:bam_2"},{"from":"alnphix_bwa_aln_1","to":"alnphix_bwa_sampe:sai_1","id":"aln1_sai_to_sampe"},{"id":"aln2_sai_to_sampe","to":"alnphix_bwa_sampe:sai_2","from":"alnphix_bwa_aln_2"},{"id":"bwa_sampe_to_scramble","to":"alnphix_samtobam","from":"alnphix_bwa_sampe"},{"id":"ref_to_alignment","from":"reference_phix","to":"alnphix_bwa_aln_2:reference_genome_fasta"},{"to":"alnphix_bwa_sampe:reference_genome_fasta","from":"reference_phix","id":"ref_to_alignment"}],"nodes":[{"description":"Create the initial BAM file from the data generated by the Illumina machine","id":"illumina2bam","use_STDOUT":true,"comment":"Actual executable used depends on the value of the 12b_implementation parameter: java - use illumina2bam (default); bambi - use new bambi i2b","cmd":["/software/sciops/pkg/bambi/0.11.2/bin/bambi","i2b","--intensity-dir=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities","--basecalls-dir=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BaseCalls","--lane=1","--platform-unit=190327_MS7_28877_A_MS7940394-300V2_1","--read-group-id=28877_1","--study-name=\"ERP000190: Spot Malaria aims to bring together malaria genetics with epidemiological information across both time and space. The project has two distinct but complementary goals; to simplify genetic data reporting so that more users are able to analyse and interpret the key features of their data, focusing on what is of most importance for field research and malaria control in a timely manner; and to create an open access global observatory across time and space for genetic variation and other relevant metadata such as malaria prevalence and deployment of control measures. This data is part of a pre-publication release. For information on the proper use of pre-publication data shared by the Wellcome Trust Sanger Institute (including details of any publication moratoria), please see http://www.sanger.ac.uk/datasharing/,ERP000190: Recon Project: Genetic reconnaissance technology to support malaria elimination in the Greater Mekong Subregion (GMS) This data is part of a pre-publication release. For information on the proper use of pre-publication data shared by the Wellcome Trust Sanger Institute please see http://www.sanger.ac.uk/datasharing/\"","--sample-alias=ERS3207987,ERS3207988,ERS3207989,ERS3207990,ERS3207991,ERS3207992,ERS3207993,ERS3207994,ERS3207995,ERS3207996,ERS3207997,ERS3207998,ERS3207999,ERS3208000,ERS3208001,ERS3208002,ERS3208003,ERS3208004,ERS3208005,ERS3208006,ERS3208007,ERS3208008,ERS3208009,ERS3208010,ERS3208011,ERS3208012,ERS3208013,ERS3208014,ERS3208015,ERS3208016,ERS3208017,ERS3208018,ERS3208019,ERS3208020,ERS3208021,ERS3208022,ERS3208023,ERS3208024,ERS3208025,ERS3208026,ERS3208027,ERS3208028,ERS3208029,ERS3208030,ERS3208031,ERS3208032,ERS3208033,ERS3208034,ERS3208035,ERS3208036,ERS3208037,ERS3208038,ERS3208039,ERS3208040,ERS3208041,ERS3208042,ERS3208043,ERS3208044,ERS3208045,ERS3208046,ERS3208047,ERS3208048,ERS3208049,ERS3208050,ERS3208051,ERS3208052,ERS3208053,ERS3208054,ERS3208055,ERS3208056,ERS3208057,5712STDY7848558,5712STDY7848559,ERS3223089,ERS3223090,ERS3223091,ERS3223092,ERS3223093,ERS3223094,ERS3223095,ERS3223096,ERS3223097,ERS3223098,ERS3223099,ERS3223100,ERS3223101,ERS3223102,ERS3223103,ERS3223104,ERS3223105,ERS3223106,ERS3223107,ERS3223108,ERS3223109,ERS3223110,ERS3223111,ERS3223112,ERS3223113,ERS3223114,ERS3223115,ERS3223116,ERS3223117,ERS3223118,ERS3223119,ERS3223120,ERS3223121,ERS3223122,ERS3223123,ERS3223124,ERS3223125,ERS3223126,ERS3223127,ERS3223128,ERS3223129,ERS3223130,ERS3223131,ERS3223132,ERS3223133,ERS3223134,ERS3223135,ERS3223136,ERS3223137,ERS3223138,ERS3223139,ERS3223140,ERS3223141,ERS3223142,ERS3223143,ERS3223144,ERS3223145,ERS3223146,ERS3223147,ERS3223148,ERS3223149,ERS3223150,ERS3223151,ERS3223152,ERS3223153,ERS3223154,ERS3223155,ERS3223156,ERS3223157,ERS3223158,ERS3223159,ERS3223160,ERS3223161,ERS3223162,ERS3223163,ERS3223164,ERS3223165,ERS3223166,ERS3223167,ERS3223168,ERS3223169,ERS3223170,ERS3223171,ERS3223172,ERS3223173,ERS3223174,ERS3223175,ERS3223176,ERS3223177,ERS3223178,ERS3223179,ERS3223180,ERS3223181,ERS3223182,5023STDY7880474,5023STDY7880475,ERS3222995,ERS3222996,ERS3222997,ERS3222998,ERS3222999,ERS3223000,ERS3223001,ERS3223002,ERS3223003,ERS3223004,ERS3223005,ERS3223006,ERS3223007,ERS3223008,ERS3223009,ERS3223010,ERS3223011,ERS3223012,ERS3223013,ERS3223014,ERS3223015,ERS3223016,ERS3223017,ERS3223018,ERS3223019,ERS3223020,ERS3223021,ERS3223022,ERS3223023,ERS3223024,ERS3223025,ERS3223026,ERS3223027,ERS3223028,ERS3223029,ERS3223030,ERS3223031,ERS3223032,ERS3223033,ERS3223034,ERS3223035,ERS3223036,ERS3223037,ERS3223038,ERS3223039,ERS3223040,ERS3223041,ERS3223042,ERS3223043,ERS3223044,ERS3223045,ERS3223046,ERS3223047,ERS3223048,ERS3223049,ERS3223050,ERS3223051,ERS3223052,ERS3223053,ERS3223054,ERS3223055,ERS3223056,ERS3223057,ERS3223058,ERS3223059,ERS3223060,ERS3223061,ERS3223062,ERS3223063,ERS3223064,ERS3223065,ERS3223066,ERS3223067,ERS3223068,ERS3223082,ERS3223083,ERS3223084,ERS3223085,ERS3223086,ERS3223087,ERS3223088,ERS3223069,ERS3223070,ERS3223071,ERS3223072,ERS3223073,ERS3223074,ERS3223075,ERS3223076,ERS3223077,ERS3223078,ERS3223079,ERS3223080,ERS3223081,5023STDY7880378,5023STDY7880379,ERS3223183,ERS3223184,ERS3223185,ERS3223186,ERS3223187,ERS3223188,ERS3223189,ERS3223190,ERS3223191,ERS3223192,ERS3223193,ERS3223194,ERS3223195,ERS3223196,ERS3223197,ERS3223198,ERS3223199,ERS3223200,ERS3223201,ERS3223202,ERS3223203,ERS3223204,ERS3223205,ERS3223206,ERS3223207,ERS3223208,ERS3223209,ERS3223210,ERS3223211,ERS3223212,ERS3223213,ERS3223214,ERS3223215,ERS3223216,ERS3223217,ERS3223218,ERS3223219,ERS3223220,ERS3223221,ERS3223222,ERS3223223,ERS3223224,ERS3223225,ERS3223226,ERS3223227,ERS3223228,ERS3223229,ERS3223230,ERS3223231,ERS3223232,ERS3223233,ERS3223234,ERS3223235,ERS3223236,ERS3223237,ERS3223238,ERS3223239,ERS3223240,ERS3223241,ERS3223242,ERS3223243,ERS3223244,ERS3223245,ERS3223246,ERS3223247,ERS3223248,ERS3223249,ERS3223250,ERS3223251,ERS3223252,ERS3223253,ERS3223254,ERS3223255,ERS3223256,ERS3223257,ERS3223258,ERS3223259,ERS3223260,ERS3223261,ERS3223262,ERS3223263,ERS3223264,ERS3223265,ERS3223266,ERS3223267,ERS3223268,ERS3223269,ERS3223270,ERS3223271,ERS3223272,ERS3223273,ERS3223274,ERS3223275,ERS3223276,5023STDY7880570,5023STDY7880571,ERS3207987,ERS3207988,ERS3207989,ERS3207990,ERS3207991,ERS3207992,ERS3207993,ERS3207994,ERS3207995,ERS3207996,ERS3207997,ERS3207998,ERS3207999,ERS3208000,ERS3208001,ERS3208002,ERS3208003,ERS3208004,ERS3208005,ERS3208006,ERS3208007,ERS3208008,ERS3208009,ERS3208010,ERS3208011,ERS3208012,ERS3208013,ERS3208014,ERS3208015,ERS3208016,ERS3208017,ERS3208018,ERS3208019,ERS3208020,ERS3208021,ERS3208022,ERS3208023,ERS3208024,ERS3208025,ERS3208026,ERS3208027,ERS3208028,ERS3208029,ERS3208030,ERS3208031,ERS3208032,ERS3208033,ERS3208034,ERS3208035,ERS3208036,ERS3208037,ERS3208038,ERS3208039,ERS3208040,ERS3208041,ERS3208042,ERS3208043,ERS3208044,ERS3208045,ERS3208046,ERS3208047,ERS3208048,ERS3208049,ERS3208050,ERS3208051,ERS3208052,ERS3208053,ERS3208054,ERS3208055,ERS3208056,ERS3208057,5712STDY7848558,5712STDY7848559,ERS3223089,ERS3223090,ERS3223091,ERS3223092,ERS3223093,ERS3223094,ERS3223095,ERS3223096,ERS3223097,ERS3223098,ERS3223099,ERS3223100,ERS3223101,ERS3223102,ERS3223103,ERS3223104,ERS3223105,ERS3223106,ERS3223107,ERS3223108,ERS3223109,ERS3223110,ERS3223111,ERS3223112,ERS3223113,ERS3223114,ERS3223115,ERS3223116,ERS3223117,ERS3223118,ERS3223119,ERS3223120,ERS3223121,ERS3223122,ERS3223123,ERS3223124,ERS3223125,ERS3223126,ERS3223127,ERS3223128,ERS3223129,ERS3223130,ERS3223131,ERS3223132,ERS3223133,ERS3223134,ERS3223135,ERS3223136,ERS3223137,ERS3223138,ERS3223139,ERS3223140,ERS3223141,ERS3223142,ERS3223143,ERS3223144,ERS3223145,ERS3223146,ERS3223147,ERS3223148,ERS3223149,ERS3223150,ERS3223151,ERS3223152,ERS3223153,ERS3223154,ERS3223155,ERS3223156,ERS3223157,ERS3223158,ERS3223159,ERS3223160,ERS3223161,ERS3223162,ERS3223163,ERS3223164,ERS3223165,ERS3223166,ERS3223167,ERS3223168,ERS3223169,ERS3223170,ERS3223171,ERS3223172,ERS3223173,ERS3223174,ERS3223175,ERS3223176,ERS3223177,ERS3223178,ERS3223179,ERS3223180,ERS3223181,ERS3223182,5023STDY7880474,5023STDY7880475,ERS3222995,ERS3222996,ERS3222997,ERS3222998,ERS3222999,ERS3223000,ERS3223001,ERS3223002,ERS3223003,ERS3223004,ERS3223005,ERS3223006,ERS3223007,ERS3223008,ERS3223009,ERS3223010,ERS3223011,ERS3223012,ERS3223013,ERS3223014,ERS3223015,ERS3223016,ERS3223017,ERS3223018,ERS3223019,ERS3223020,ERS3223021,ERS3223022,ERS3223023,ERS3223024,ERS3223025,ERS3223026,ERS3223027,ERS3223028,ERS3223029,ERS3223030,ERS3223031,ERS3223032,ERS3223033,ERS3223034,ERS3223035,ERS3223036,ERS3223037,ERS3223038,ERS3223039,ERS3223040,ERS3223041,ERS3223042,ERS3223043,ERS3223044,ERS3223045,ERS3223046,ERS3223047,ERS3223048,ERS3223049,ERS3223050,ERS3223051,ERS3223052,ERS3223053,ERS3223054,ERS3223055,ERS3223056,ERS3223057,ERS3223058,ERS3223059,ERS3223060,ERS3223061,ERS3223062,ERS3223063,ERS3223064,ERS3223065,ERS3223066,ERS3223067,ERS3223068,ERS3223082,ERS3223083,ERS3223084,ERS3223085,ERS3223086,ERS3223087,ERS3223088,ERS3223069,ERS3223070,ERS3223071,ERS3223072,ERS3223073,ERS3223074,ERS3223075,ERS3223076,ERS3223077,ERS3223078,ERS3223079,ERS3223080,ERS3223081,5023STDY7880378,5023STDY7880379,ERS3223183,ERS3223184,ERS3223185,ERS3223186,ERS3223187,ERS3223188,ERS3223189,ERS3223190,ERS3223191,ERS3223192,ERS3223193,ERS3223194,ERS3223195,ERS3223196,ERS3223197,ERS3223198,ERS3223199,ERS3223200,ERS3223201,ERS3223202,ERS3223203,ERS3223204,ERS3223205,ERS3223206,ERS3223207,ERS3223208,ERS3223209,ERS3223210,ERS3223211,ERS3223212,ERS3223213,ERS3223214,ERS3223215,ERS3223216,ERS3223217,ERS3223218,ERS3223219,ERS3223220,ERS3223221,ERS3223222,ERS3223223,ERS3223224,ERS3223225,ERS3223226,ERS3223227,ERS3223228,ERS3223229,ERS3223230,ERS3223231,ERS3223232,ERS3223233,ERS3223234,ERS3223235,ERS3223236,ERS3223237,ERS3223238,ERS3223239,ERS3223240,ERS3223241,ERS3223242,ERS3223243,ERS3223244,ERS3223245,ERS3223246,ERS3223247,ERS3223248,ERS3223249,ERS3223250,ERS3223251,ERS3223252,ERS3223253,ERS3223254,ERS3223255,ERS3223256,ERS3223257,ERS3223258,ERS3223259,ERS3223260,ERS3223261,ERS3223262,ERS3223263,ERS3223264,ERS3223265,ERS3223266,ERS3223267,ERS3223268,ERS3223269,ERS3223270,ERS3223271,ERS3223272,ERS3223273,ERS3223274,ERS3223275,ERS3223276,5023STDY7880570,5023STDY7880571,ERS3207987,ERS3207988,ERS3207989,ERS3207990,ERS3207991,ERS3207992,ERS3207993,ERS3207994,ERS3207995,ERS3207996,ERS3207997,ERS3207998,ERS3207999,ERS3208000,ERS3208001,ERS3208002,ERS3208003,ERS3208004,ERS3208005,ERS3208006,ERS3208007,ERS3208008,ERS3208009,ERS3208010,ERS3208011,ERS3208012,ERS3208013,ERS3208014,ERS3208015,ERS3208016,ERS3208017,ERS3208018,ERS3208019,ERS3208020,ERS3208021,ERS3208022,ERS3208023,ERS3208024,ERS3208025,ERS3208026,ERS3208027,ERS3208028,ERS3208029,ERS3208030,ERS3208031,ERS3208032,ERS3208033,ERS3208034,ERS3208035,ERS3208036,ERS3208037,ERS3208038,ERS3208039,ERS3208040,ERS3208041,ERS3208042,ERS3208043,ERS3208044,ERS3208045,ERS3208046,ERS3208047,ERS3208048,ERS3208049,ERS3208050,ERS3208051,ERS3208052,ERS3208053,ERS3208054,ERS3208055,ERS3208056,ERS3208057,5712STDY7848558,5712STDY7848559,ERS3223089,ERS3223090,ERS3223091,ERS3223092,ERS3223093,ERS3223094,ERS3223095,ERS3223096,ERS3223097,ERS3223098,ERS3223099,ERS3223100,ERS3223101,ERS3223102,ERS3223103,ERS3223104,ERS3223105,ERS3223106,ERS3223107,ERS3223108,ERS3223109,ERS3223110,ERS3223111,ERS3223112,ERS3223113,ERS3223114,ERS3223115,ERS3223116,ERS3223117,ERS3223118,ERS3223119,ERS3223120,ERS3223121,ERS3223122,ERS3223123,ERS3223124,ERS3223125,ERS3223126,ERS3223127,ERS3223128,ERS3223129,ERS3223130,ERS3223131,ERS3223132,ERS3223133,ERS3223134,ERS3223135,ERS3223136,ERS3223137,ERS3223138,ERS3223139,ERS3223140,ERS3223141,ERS3223142,ERS3223143,ERS3223144,ERS3223145,ERS3223146,ERS3223147,ERS3223148,ERS3223149,ERS3223150,ERS3223151,ERS3223152,ERS3223153,ERS3223154,ERS3223155,ERS3223156,ERS3223157,ERS3223158,ERS3223159,ERS3223160,ERS3223161,ERS3223162,ERS3223163,ERS3223164,ERS3223165,ERS3223166,ERS3223167,ERS3223168,ERS3223169,ERS3223170,ERS3223171,ERS3223172,ERS3223173,ERS3223174,ERS3223175,ERS3223176,ERS3223177,ERS3223178,ERS3223179,ERS3223180,ERS3223181,ERS3223182,5023STDY7880474,5023STDY7880475,ERS3222995,ERS3222996,ERS3222997,ERS3222998,ERS3222999,ERS3223000,ERS3223001,ERS3223002,ERS3223003,ERS3223004,ERS3223005,ERS3223006,ERS3223007,ERS3223008,ERS3223009,ERS3223010,ERS3223011,ERS3223012,ERS3223013,ERS3223014,ERS3223015,ERS3223016,ERS3223017,ERS3223018,ERS3223019,ERS3223020,ERS3223021,ERS3223022,ERS3223023,ERS3223024,ERS3223025,ERS3223026,ERS3223027,ERS3223028,ERS3223029,ERS3223030,ERS3223031,ERS3223032,ERS3223033,ERS3223034,ERS3223035,ERS3223036,ERS3223037,ERS3223038,ERS3223039,ERS3223040,ERS3223041,ERS3223042,ERS3223043,ERS3223044,ERS3223045,ERS3223046,ERS3223047,ERS3223048,ERS3223049,ERS3223050,ERS3223051,ERS3223052,ERS3223053,ERS3223054,ERS3223055,ERS3223056,ERS3223057,ERS3223058,ERS3223059,ERS3223060,ERS3223061,ERS3223062,ERS3223063,ERS3223064,ERS3223065,ERS3223066,ERS3223067,ERS3223068,ERS3223082,ERS3223083,ERS3223084,ERS3223085,ERS3223086,ERS3223087,ERS3223088,ERS3223069,ERS3223070,ERS3223071,ERS3223072,ERS3223073,ERS3223074,ERS3223075,ERS3223076,ERS3223077,ERS3223078,ERS3223079,ERS3223080,ERS3223081,5023STDY7880378,5023STDY7880379,ERS3223183,ERS3223184,ERS3223185,ERS3223186,ERS3223187,ERS3223188,ERS3223189,ERS3223190,ERS3223191,ERS3223192,ERS3223193,ERS3223194,ERS3223195,ERS3223196,ERS3223197,ERS3223198,ERS3223199,ERS3223200,ERS3223201,ERS3223202,ERS3223203,ERS3223204,ERS3223205,ERS3223206,ERS3223207,ERS3223208,ERS3223209,ERS3223210,ERS3223211,ERS3223212,ERS3223213,ERS3223214,ERS3223215,ERS3223216,ERS3223217,ERS3223218,ERS3223219,ERS3223220,ERS3223221,ERS3223222,ERS3223223,ERS3223224,ERS3223225,ERS3223226,ERS3223227,ERS3223228,ERS3223229,ERS3223230,ERS3223231,ERS3223232,ERS3223233,ERS3223234,ERS3223235,ERS3223236,ERS3223237,ERS3223238,ERS3223239,ERS3223240,ERS3223241,ERS3223242,ERS3223243,ERS3223244,ERS3223245,ERS3223246,ERS3223247,ERS3223248,ERS3223249,ERS3223250,ERS3223251,ERS3223252,ERS3223253,ERS3223254,ERS3223255,ERS3223256,ERS3223257,ERS3223258,ERS3223259,ERS3223260,ERS3223261,ERS3223262,ERS3223263,ERS3223264,ERS3223265,ERS3223266,ERS3223267,ERS3223268,ERS3223269,ERS3223270,ERS3223271,ERS3223272,ERS3223273,ERS3223274,ERS3223275,ERS3223276,5023STDY7880570,5023STDY7880571","--threads=8","--output-file=-","--compression-level=0"],"type":"EXEC","use_STDIN":false},{"cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"direction":"out","port":"scs"},{"direction":"out","port":"baf"}],"type":"EXEC","use_STDIN":true,"id":"tee_i2b","use_STDOUT":false},{"use_STDOUT":true,"id":"bamadapterfind","description":"Find and mark the adaptors used by Illumina","use_STDIN":true,"type":"EXEC","cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamadapterfind","level=0"]},{"comment":"now uses bambi decode (formerly java, illumina2bam BamIndexDecoder.jar","cmd":["/software/sciops/pkg/bambi/0.11.2/bin/bambi","decode","--metrics-file",{"direction":"out","port":"metrics_file"},"--barcode-file","/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/metadata_cache_28877/lane_1.taglist","--compression-level","0","-"],"type":"EXEC","use_STDIN":true,"description":"assign RG values to reads based on index tag sequence (BC tag value)","id":"bamindexdecoder","use_STDOUT":true},{"name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/28877_1.bam.tag_decode.metrics","id":"decoder_metrics","type":"RAFILE"},{"comment":"This node is defined as reading stdin, even though this is not true. This bodge is to activate the RAFILE/OUTFILE behaviour and delay execution until after the decoder_metrics output is complete","cmd":["/software/npg/20190314/bin/qc","--check=tag_metrics","--id_run=28877","--position=1","--qc_in=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730","--qc_out=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/qc"],"type":"EXEC","use_STDIN":true,"description":"run the qc tag_metrics check","id":"qc_tag_metrics_check","use_STDOUT":false},{"id":"bamcollate","use_STDOUT":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamcollate2","collate=2","level=0"],"use_STDIN":true,"type":"EXEC"},{"id":"tee_collated","use_STDOUT":false,"cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"port":"td1","direction":"out"},{"direction":"out","port":"td2"}],"use_STDIN":true,"type":"EXEC"},{"type":"INFILE","name":"/lustre/scratch117/core/sciops_repository/references/PhiX/Sanger-SNPs/all/bwa0_6/phix_unsnipped_short_no_N.fa","description":"Prefix for Phix reference","id":"reference_phix"},{"type":"EXEC","use_STDIN":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bam12auxmerge","level=0","rankstrip=1","ranksplit=1","zztoname=0","clipreinsert=1",{"direction":"in","port":"unaln_bam"}],"use_STDOUT":true,"id":"bammerge"},{"cmd":["/software/sciops/pkg/bambi/0.11.2/bin/bambi","spatial_filter","-c","-t","/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/tileviz","-F","/dev/stdout","/dev/stdin"],"use_STDIN":true,"type":"EXEC","id":"create_filter","description":"Create a spatial filter","use_STDOUT":true},{"id":"spatial_filter_file","description":"spatial filter file","name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/28877_1.spatial_filter","type":"RAFILE"},{"use_STDOUT":false,"id":"tee_split","type":"EXEC","use_STDIN":true,"cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"port":"seqchksum","direction":"out"},{"port":"spatial_filter","direction":"out"},{"direction":"out","port":"subsample"},{"port":"stats","direction":"out"},{"port":"split_bam","direction":"out"}]},{"use_STDOUT":false,"description":"Split the BAM file into separate BAM files by Read Group","id":"splitter","type":"EXEC","use_STDIN":true,"cmd":["/software/sciops/pkg/samtools/1.9+48_g2d4907c/bin/samtools","split","--threads","4","--output-fmt","cram,no_ref=1","-f","/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/%!.cram","-"]},{"use_STDIN":true,"type":"EXEC","cmd":["/software/sciops/pkg/samtools/1.9+48_g2d4907c/bin/samtools","view","-s","28877.00043794","-b","-"],"use_STDOUT":true,"id":"subsample"},{"use_STDOUT":true,"id":"bamtofastq_ss","type":"EXEC","use_STDIN":true,"cmd":["/software/sciops/pkg/samtools/1.9+48_g2d4907c/bin/samtools","fastq","-F","0x200","-1",{"port":"ss_fq1","direction":"out"},"-2",{"port":"ss_fq2","direction":"out"},"-"]},{"type":"OUTFILE","id":"run_lane_ss_fq1","description":"lane-level fastq output, read1","name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/.npg_cache_10000/28877_1_1.fastq"},{"type":"OUTFILE","name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/.npg_cache_10000/28877_1_2.fastq","id":"run_lane_ss_fq2","description":"lane-level fastq output, read2"},{"id":"samtools_stats","use_STDOUT":true,"cmd":["/software/sciops/pkg/samtools/1.9+48_g2d4907c/bin/samtools","stats","-"],"type":"EXEC","use_STDIN":true},{"type":"RAFILE","name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/28877_1_F0x000.stats","id":"lane_stats_file"},{"use_STDOUT":false,"description":"run the qc samtools_stats check","id":"qc_samtools_stats_check","type":"EXEC","use_STDIN":true,"cmd":["/software/npg/20190314/bin/qc","--check=samtools_stats","--rpt_list=28877:1","--qc_in=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1","--qc_out=/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/no_cal/archive/lane1/qc"],"comment":"This node is defined as reading stdin, even though this is not true. This bodge is to activate the RAFILE/OUTFILE behaviour and delay execution until after the stats output is complete"},{"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamseqchksum"],"use_STDIN":true,"type":"EXEC","id":"seqchksum","use_STDOUT":true},{"type":"RAFILE","name":"/nfs/sf55/IL_seq_data/analysis/190327_MS7_28877_A_MS7940394-300V2/Data/Intensities/BAM_basecalls_20190328-133730/28877_1.post_i2b.seqchksum","id":"seqchksum_file"},{"type":"EXEC","use_STDIN":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamseqchksum"],"use_STDOUT":true,"id":"seqchksum_input"},{"cmd":["/usr/bin/head","-2"],"use_STDIN":true,"type":"EXEC","id":"head_scs1_input","use_STDOUT":true},{"id":"head_scs2_input","use_STDOUT":true,"cmd":["/usr/bin/head","-2"],"use_STDIN":true,"type":"EXEC"},{"type":"EXEC","use_STDIN":false,"cmd":["/usr/bin/cmp",{"direction":"in","port":"inputchk"},{"direction":"in","port":"outputchk"}],"use_STDOUT":false,"description":"check input primary/sequence data matches output","id":"cmp_seqchksum"},{"use_STDOUT":false,"id":"alnphix_tee4","use_STDIN":true,"type":"EXEC","cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-v","-w","300","-m","1G",{"direction":"out","port":"aln_1"},{"direction":"out","port":"aln_2"},{"direction":"out","port":"sampe_1"},{"port":"sampe_2","direction":"out"}]},{"use_STDOUT":true,"id":"alnphix_bwa_aln_1","use_STDIN":false,"type":"EXEC","cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","aln","-t","6","-b1",{"direction":"in","port":"reference_genome_fasta"},{"port":"bam_in","direction":"in"}]},{"use_STDOUT":true,"id":"alnphix_bwa_aln_2","use_STDIN":false,"type":"EXEC","cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","aln","-t","6","-b2",{"port":"reference_genome_fasta","direction":"in"},{"direction":"in","port":"bam_in"}]},{"type":"EXEC","use_STDIN":true,"cmd":"/bin/cat","use_STDOUT":true,"id":"alnphix_simple_cat1"},{"cmd":"/bin/cat","use_STDIN":true,"type":"EXEC","id":"alnphix_simple_cat2","use_STDOUT":true},{"id":"alnphix_bwa_sampe","use_STDOUT":true,"cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","sampe",{"port":"reference_genome_fasta","direction":"in"},{"direction":"in","port":"sai_1"},{"direction":"in","port":"sai_2"},{"direction":"in","port":"bam_1"},{"direction":"in","port":"bam_2"}],"use_STDIN":false,"type":"EXEC"},{"use_STDIN":true,"type":"EXEC","cmd":["/software/sciops/pkg/staden_io_bin/1.14.9/bin/scramble","-0","-t","5","-I","sam","-O","bam"],"use_STDOUT":true,"id":"alnphix_samtobam"}],"version":"2.0"}
{"nodes":[{"type":"EXEC","id":"illumina2bam","cmd":["/software/sciops/pkg/bambi/0.11.1/bin/bambi","i2b","--intensity-dir=/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities","--basecalls-dir=/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BaseCalls","--lane=1","--platform-unit=181009_MS3_27122_A_MS7201990-300V2_1","--read-group-id=27122_1","--study-name=\"ERP000190: Spotmalaria is a new project that will provide field researchers with a simple set of tools to conduct surveys of molecular markers of drug resistance as well as a wide range of other parasite genetic markers.  It is based on technologies developed at the Sanger Institute to sequence the parasite genome from dried blood spots.   This data is part of a pre-publication release. For information on the proper use of pre-publication data shared by the Wellcome Trust Sanger Institute (including details of any publication moratoria), please see http://www.sanger.ac.uk/datasharing/\"","--sample-alias=ERS2488229,ERS2488230,ERS2488231,ERS2488232,ERS2488233,ERS2488234,ERS2488235,ERS2488236,ERS2488237,ERS2488238,ERS2488239,ERS2488240,ERS2488241,ERS2488242,ERS2488243,ERS2488244,ERS2488245,ERS2488246,ERS2488247,ERS2488248,ERS2488249,ERS2488250,ERS2488251,ERS2488252,ERS2488253,ERS2488254,ERS2488255,ERS2488256,ERS2488257,ERS2488258,ERS2488259,ERS2488260,ERS2488261,ERS2488262,ERS2488263,ERS2488264,ERS2488265,ERS2488266,ERS2488267,ERS2488268,ERS2488269,ERS2488270,ERS2488271,ERS2488272,ERS2488273,ERS2488274,ERS2488275,ERS2488276,ERS2488277,ERS2488278,ERS2488279,ERS2488280,ERS2488281,ERS2488282,ERS2488283,ERS2488284,ERS2488285,ERS2488286,ERS2488287,ERS2488288,ERS2488289,ERS2488290,ERS2488291,ERS2488292,ERS2488293,ERS2488294,ERS2488295,ERS2488296,ERS2488297,ERS2488298,ERS2488299,ERS2488300,ERS2488301,ERS2488302,ERS2488303,ERS2488304,ERS2488305,ERS2488306,ERS2488307,ERS2488308,ERS2488309,ERS2488310,ERS2488311,ERS2488312,ERS2488313,ERS2488314,ERS2488315,ERS2488316,ERS2488317,ERS2488318,ERS2488319,ERS2488320,ERS2488321,ERS2488322,ERS2488323,ERS2488324,ERS2488325,ERS2488326,ERS2488327,ERS2488328,ERS2488329,ERS2488330,ERS2488331,ERS2488332,ERS2488333,ERS2488334,ERS2488335,ERS2488336,ERS2488337,ERS2488338,ERS2488339,ERS2488340,ERS2488341,ERS2488342,ERS2488343,ERS2488344,ERS2488345,ERS2488346,ERS2488347,ERS2488348,ERS2488349,ERS2488350,ERS2488351,ERS2488352,ERS2488353,ERS2488354,ERS2488355,ERS2488356,ERS2488357,ERS2488358,ERS2488359,ERS2488376,ERS2488377,ERS2488378,ERS2488379,ERS2488380,ERS2488381,ERS2488382,ERS2488383,ERS2488384,ERS2488385,ERS2488386,ERS2488387,ERS2488388,ERS2488389,ERS2488390,ERS2488391,ERS2488392,ERS2488360,ERS2488361,ERS2488362,ERS2488363,ERS2488364,ERS2488365,ERS2488366,ERS2488367,ERS2488368,ERS2488369,ERS2488370,ERS2488371,ERS2488372,ERS2488373,ERS2488374,ERS2488375,ERS2488393,ERS2488394,ERS2488395,ERS2488396,ERS2488397,ERS2488398,ERS2488399,ERS2488400,ERS2488401,ERS2488402,ERS2488403,ERS2488404,ERS2488405,ERS2488406,ERS2488407,ERS2488408,ERS2488409,ERS2488410,ERS2488411,ERS2488412,ERS2488413,ERS2488414,ERS2488415,ERS2488416,ERS2488417,ERS2488418,ERS2488419,ERS2488420,ERS2488421,ERS2488422,ERS2488423,ERS2488424,ERS2488425,ERS2488426,ERS2488427,ERS2488428,ERS2488429,ERS2488430,ERS2488431,ERS2488432,ERS2488433,ERS2488434,ERS2488435,ERS2488436,ERS2488437,ERS2488438,ERS2488439,ERS2488440,ERS2488441,ERS2488442,ERS2488443,ERS2488444,ERS2488445,ERS2488446,ERS2488447,ERS2488448,ERS2488449,ERS2488450,ERS2488451,ERS2488452,ERS2488453,ERS2488454,ERS2488455,ERS2488456,ERS2488457,ERS2488458,ERS2488459,ERS2488460,ERS2488461,ERS2488462,ERS2488463,ERS2488464,ERS2488465,ERS2488466,ERS2488467,ERS2488468,ERS2488469,ERS2488470,ERS2488471,ERS2488472,ERS2488473,ERS2488474,ERS2488475,ERS2488476,ERS2488477,ERS2488478,ERS2488479,ERS2488480,ERS2488481,ERS2488482,ERS2488483,ERS2488484,ERS2488485,ERS2488486,ERS2488487,ERS2488488,ERS2488489,ERS2488490,ERS2488491,ERS2488492,ERS2488493,ERS2488494,ERS2488495,ERS2488496,ERS2488497,ERS2488498,ERS2488499,ERS2488500,ERS2488501,ERS2488502,ERS2488503,ERS2488504,ERS2488505,ERS2488506,ERS2488507,ERS2488508,ERS2488509,ERS2488510,ERS2488511,ERS2488512,ERS2488513,ERS2488514,ERS2488515,ERS2488516,ERS2488517,ERS2488518,ERS2488519,ERS2488520,ERS2488521,ERS2488522,ERS2488523,ERS2488524,ERS2488525,ERS2488526,ERS2488527,ERS2488528,ERS2488529,ERS2488530,ERS2488531,ERS2488532,ERS2488533,ERS2488534,ERS2488535,ERS2488536,ERS2488537,ERS2488538,ERS2488539,ERS2488540,ERS2488541,ERS2488542,ERS2488543,ERS2488544,ERS2488545,ERS2488546,ERS2488547,ERS2488548,ERS2488549,ERS2488550,ERS2488551,ERS2488552,ERS2488553,ERS2488554,ERS2488555,ERS2488556,ERS2488557,ERS2488558,ERS2488559,ERS2488560,ERS2488561,ERS2488562,ERS2488563,ERS2488564,ERS2488565,ERS2488566,ERS2488567,ERS2488568,ERS2488569,ERS2488570,ERS2488571,ERS2488572,ERS2488573,ERS2488574,ERS2488575,ERS2488576,ERS2488577,ERS2488578,ERS2488579,ERS2488580,ERS2488581,ERS2488582,ERS2488583,ERS2488584,ERS2488585,ERS2488586,ERS2488587,ERS2488588,ERS2488589,ERS2488590,ERS2488591,ERS2488592,ERS2488593,ERS2488594,ERS2488595,ERS2488596,ERS2488597,ERS2488598,ERS2488599,ERS2488600,ERS2488601,ERS2488602,ERS2488603,ERS2488604,ERS2488605,ERS2488606,ERS2488607,ERS2488608,ERS2488609,ERS2488610,ERS2488611,ERS2488612,ERS2488229,ERS2488230,ERS2488231,ERS2488232,ERS2488233,ERS2488234,ERS2488235,ERS2488236,ERS2488237,ERS2488238,ERS2488239,ERS2488240,ERS2488241,ERS2488242,ERS2488243,ERS2488244,ERS2488245,ERS2488246,ERS2488247,ERS2488248,ERS2488249,ERS2488250,ERS2488251,ERS2488252,ERS2488253,ERS2488254,ERS2488255,ERS2488256,ERS2488257,ERS2488258,ERS2488259,ERS2488260,ERS2488261,ERS2488262,ERS2488263,ERS2488264,ERS2488265,ERS2488266,ERS2488267,ERS2488268,ERS2488269,ERS2488270,ERS2488271,ERS2488272,ERS2488273,ERS2488274,ERS2488275,ERS2488276,ERS2488277,ERS2488278,ERS2488279,ERS2488280,ERS2488281,ERS2488282,ERS2488283,ERS2488284,ERS2488285,ERS2488286,ERS2488287,ERS2488288,ERS2488289,ERS2488290,ERS2488291,ERS2488292,ERS2488293,ERS2488294,ERS2488295,ERS2488296,ERS2488297,ERS2488298,ERS2488299,ERS2488300,ERS2488301,ERS2488302,ERS2488303,ERS2488304,ERS2488305,ERS2488306,ERS2488307,ERS2488308,ERS2488309,ERS2488310,ERS2488311,ERS2488312,ERS2488313,ERS2488314,ERS2488315,ERS2488316,ERS2488317,ERS2488318,ERS2488319,ERS2488320,ERS2488321,ERS2488322,ERS2488323,ERS2488324,ERS2488325,ERS2488326,ERS2488327,ERS2488328,ERS2488329,ERS2488330,ERS2488331,ERS2488332,ERS2488333,ERS2488334,ERS2488335,ERS2488336,ERS2488337,ERS2488338,ERS2488339,ERS2488340,ERS2488341,ERS2488342,ERS2488343,ERS2488344,ERS2488345,ERS2488346,ERS2488347,ERS2488348,ERS2488349,ERS2488350,ERS2488351,ERS2488352,ERS2488353,ERS2488354,ERS2488355,ERS2488356,ERS2488357,ERS2488358,ERS2488359,ERS2488376,ERS2488377,ERS2488378,ERS2488379,ERS2488380,ERS2488381,ERS2488382,ERS2488383,ERS2488384,ERS2488385,ERS2488386,ERS2488387,ERS2488388,ERS2488389,ERS2488390,ERS2488391,ERS2488392,ERS2488360,ERS2488361,ERS2488362,ERS2488363,ERS2488364,ERS2488365,ERS2488366,ERS2488367,ERS2488368,ERS2488369,ERS2488370,ERS2488371,ERS2488372,ERS2488373,ERS2488374,ERS2488375,ERS2488393,ERS2488394,ERS2488395,ERS2488396,ERS2488397,ERS2488398,ERS2488399,ERS2488400,ERS2488401,ERS2488402,ERS2488403,ERS2488404,ERS2488405,ERS2488406,ERS2488407,ERS2488408,ERS2488409,ERS2488410,ERS2488411,ERS2488412,ERS2488413,ERS2488414,ERS2488415,ERS2488416,ERS2488417,ERS2488418,ERS2488419,ERS2488420,ERS2488421,ERS2488422,ERS2488423,ERS2488424,ERS2488425,ERS2488426,ERS2488427,ERS2488428,ERS2488429,ERS2488430,ERS2488431,ERS2488432,ERS2488433,ERS2488434,ERS2488435,ERS2488436,ERS2488437,ERS2488438,ERS2488439,ERS2488440,ERS2488441,ERS2488442,ERS2488443,ERS2488444,ERS2488445,ERS2488446,ERS2488447,ERS2488448,ERS2488449,ERS2488450,ERS2488451,ERS2488452,ERS2488453,ERS2488454,ERS2488455,ERS2488456,ERS2488457,ERS2488458,ERS2488459,ERS2488460,ERS2488461,ERS2488462,ERS2488463,ERS2488464,ERS2488465,ERS2488466,ERS2488467,ERS2488468,ERS2488469,ERS2488470,ERS2488471,ERS2488472,ERS2488473,ERS2488474,ERS2488475,ERS2488476,ERS2488477,ERS2488478,ERS2488479,ERS2488480,ERS2488481,ERS2488482,ERS2488483,ERS2488484,ERS2488485,ERS2488486,ERS2488487,ERS2488488,ERS2488489,ERS2488490,ERS2488491,ERS2488492,ERS2488493,ERS2488494,ERS2488495,ERS2488496,ERS2488497,ERS2488498,ERS2488499,ERS2488500,ERS2488501,ERS2488502,ERS2488503,ERS2488504,ERS2488505,ERS2488506,ERS2488507,ERS2488508,ERS2488509,ERS2488510,ERS2488511,ERS2488512,ERS2488513,ERS2488514,ERS2488515,ERS2488516,ERS2488517,ERS2488518,ERS2488519,ERS2488520,ERS2488521,ERS2488522,ERS2488523,ERS2488524,ERS2488525,ERS2488526,ERS2488527,ERS2488528,ERS2488529,ERS2488530,ERS2488531,ERS2488532,ERS2488533,ERS2488534,ERS2488535,ERS2488536,ERS2488537,ERS2488538,ERS2488539,ERS2488540,ERS2488541,ERS2488542,ERS2488543,ERS2488544,ERS2488545,ERS2488546,ERS2488547,ERS2488548,ERS2488549,ERS2488550,ERS2488551,ERS2488552,ERS2488553,ERS2488554,ERS2488555,ERS2488556,ERS2488557,ERS2488558,ERS2488559,ERS2488560,ERS2488561,ERS2488562,ERS2488563,ERS2488564,ERS2488565,ERS2488566,ERS2488567,ERS2488568,ERS2488569,ERS2488570,ERS2488571,ERS2488572,ERS2488573,ERS2488574,ERS2488575,ERS2488576,ERS2488577,ERS2488578,ERS2488579,ERS2488580,ERS2488581,ERS2488582,ERS2488583,ERS2488584,ERS2488585,ERS2488586,ERS2488587,ERS2488588,ERS2488589,ERS2488590,ERS2488591,ERS2488592,ERS2488593,ERS2488594,ERS2488595,ERS2488596,ERS2488597,ERS2488598,ERS2488599,ERS2488600,ERS2488601,ERS2488602,ERS2488603,ERS2488604,ERS2488605,ERS2488606,ERS2488607,ERS2488608,ERS2488609,ERS2488610,ERS2488611,ERS2488612,ERS2488229,ERS2488230,ERS2488231,ERS2488232,ERS2488233,ERS2488234,ERS2488235,ERS2488236,ERS2488237,ERS2488238,ERS2488239,ERS2488240,ERS2488241,ERS2488242,ERS2488243,ERS2488244,ERS2488245,ERS2488246,ERS2488247,ERS2488248,ERS2488249,ERS2488250,ERS2488251,ERS2488252,ERS2488253,ERS2488254,ERS2488255,ERS2488256,ERS2488257,ERS2488258,ERS2488259,ERS2488260,ERS2488261,ERS2488262,ERS2488263,ERS2488264,ERS2488265,ERS2488266,ERS2488267,ERS2488268,ERS2488269,ERS2488270,ERS2488271,ERS2488272,ERS2488273,ERS2488274,ERS2488275,ERS2488276,ERS2488277,ERS2488278,ERS2488279,ERS2488280,ERS2488281,ERS2488282,ERS2488283,ERS2488284,ERS2488285,ERS2488286,ERS2488287,ERS2488288,ERS2488289,ERS2488290,ERS2488291,ERS2488292,ERS2488293,ERS2488294,ERS2488295,ERS2488296,ERS2488297,ERS2488298,ERS2488299,ERS2488300,ERS2488301,ERS2488302,ERS2488303,ERS2488304,ERS2488305,ERS2488306,ERS2488307,ERS2488308,ERS2488309,ERS2488310,ERS2488311,ERS2488312,ERS2488313,ERS2488314,ERS2488315,ERS2488316,ERS2488317,ERS2488318,ERS2488319,ERS2488320,ERS2488321,ERS2488322,ERS2488323,ERS2488324,ERS2488325,ERS2488326,ERS2488327,ERS2488328,ERS2488329,ERS2488330,ERS2488331,ERS2488332,ERS2488333,ERS2488334,ERS2488335,ERS2488336,ERS2488337,ERS2488338,ERS2488339,ERS2488340,ERS2488341,ERS2488342,ERS2488343,ERS2488344,ERS2488345,ERS2488346,ERS2488347,ERS2488348,ERS2488349,ERS2488350,ERS2488351,ERS2488352,ERS2488353,ERS2488354,ERS2488355,ERS2488356,ERS2488357,ERS2488358,ERS2488359,ERS2488376,ERS2488377,ERS2488378,ERS2488379,ERS2488380,ERS2488381,ERS2488382,ERS2488383,ERS2488384,ERS2488385,ERS2488386,ERS2488387,ERS2488388,ERS2488389,ERS2488390,ERS2488391,ERS2488392,ERS2488360,ERS2488361,ERS2488362,ERS2488363,ERS2488364,ERS2488365,ERS2488366,ERS2488367,ERS2488368,ERS2488369,ERS2488370,ERS2488371,ERS2488372,ERS2488373,ERS2488374,ERS2488375,ERS2488393,ERS2488394,ERS2488395,ERS2488396,ERS2488397,ERS2488398,ERS2488399,ERS2488400,ERS2488401,ERS2488402,ERS2488403,ERS2488404,ERS2488405,ERS2488406,ERS2488407,ERS2488408,ERS2488409,ERS2488410,ERS2488411,ERS2488412,ERS2488413,ERS2488414,ERS2488415,ERS2488416,ERS2488417,ERS2488418,ERS2488419,ERS2488420,ERS2488421,ERS2488422,ERS2488423,ERS2488424,ERS2488425,ERS2488426,ERS2488427,ERS2488428,ERS2488429,ERS2488430,ERS2488431,ERS2488432,ERS2488433,ERS2488434,ERS2488435,ERS2488436,ERS2488437,ERS2488438,ERS2488439,ERS2488440,ERS2488441,ERS2488442,ERS2488443,ERS2488444,ERS2488445,ERS2488446,ERS2488447,ERS2488448,ERS2488449,ERS2488450,ERS2488451,ERS2488452,ERS2488453,ERS2488454,ERS2488455,ERS2488456,ERS2488457,ERS2488458,ERS2488459,ERS2488460,ERS2488461,ERS2488462,ERS2488463,ERS2488464,ERS2488465,ERS2488466,ERS2488467,ERS2488468,ERS2488469,ERS2488470,ERS2488471,ERS2488472,ERS2488473,ERS2488474,ERS2488475,ERS2488476,ERS2488477,ERS2488478,ERS2488479,ERS2488480,ERS2488481,ERS2488482,ERS2488483,ERS2488484,ERS2488485,ERS2488486,ERS2488487,ERS2488488,ERS2488489,ERS2488490,ERS2488491,ERS2488492,ERS2488493,ERS2488494,ERS2488495,ERS2488496,ERS2488497,ERS2488498,ERS2488499,ERS2488500,ERS2488501,ERS2488502,ERS2488503,ERS2488504,ERS2488505,ERS2488506,ERS2488507,ERS2488508,ERS2488509,ERS2488510,ERS2488511,ERS2488512,ERS2488513,ERS2488514,ERS2488515,ERS2488516,ERS2488517,ERS2488518,ERS2488519,ERS2488520,ERS2488521,ERS2488522,ERS2488523,ERS2488524,ERS2488525,ERS2488526,ERS2488527,ERS2488528,ERS2488529,ERS2488530,ERS2488531,ERS2488532,ERS2488533,ERS2488534,ERS2488535,ERS2488536,ERS2488537,ERS2488538,ERS2488539,ERS2488540,ERS2488541,ERS2488542,ERS2488543,ERS2488544,ERS2488545,ERS2488546,ERS2488547,ERS2488548,ERS2488549,ERS2488550,ERS2488551,ERS2488552,ERS2488553,ERS2488554,ERS2488555,ERS2488556,ERS2488557,ERS2488558,ERS2488559,ERS2488560,ERS2488561,ERS2488562,ERS2488563,ERS2488564,ERS2488565,ERS2488566,ERS2488567,ERS2488568,ERS2488569,ERS2488570,ERS2488571,ERS2488572,ERS2488573,ERS2488574,ERS2488575,ERS2488576,ERS2488577,ERS2488578,ERS2488579,ERS2488580,ERS2488581,ERS2488582,ERS2488583,ERS2488584,ERS2488585,ERS2488586,ERS2488587,ERS2488588,ERS2488589,ERS2488590,ERS2488591,ERS2488592,ERS2488593,ERS2488594,ERS2488595,ERS2488596,ERS2488597,ERS2488598,ERS2488599,ERS2488600,ERS2488601,ERS2488602,ERS2488603,ERS2488604,ERS2488605,ERS2488606,ERS2488607,ERS2488608,ERS2488609,ERS2488610,ERS2488611,ERS2488612","--threads=8","--output-file=-","--compression-level=0"],"use_STDIN":false,"description":"Create the initial BAM file from the data generated by the Illumina machine","comment":"Actual executable used depends on the value of the 12b_implementation parameter: java - use illumina2bam (default); bambi - use new bambi i2b","use_STDOUT":true},{"type":"EXEC","id":"tee_i2b","cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"direction":"out","port":"scs"},{"direction":"out","port":"baf"}],"use_STDIN":true,"use_STDOUT":false},{"description":"Find and mark the adaptors used by Illumina","use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamadapterfind","level=0"],"type":"EXEC","id":"bamadapterfind"},{"description":"assign RG values to reads based on index tag sequence (BC tag value)","comment":"now uses bambi decode (formerly java, illumina2bam BamIndexDecoder.jar","use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/bambi/0.11.1/bin/bambi","decode","--metrics-file",{"direction":"out","port":"metrics_file"},"--barcode-file","/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/metadata_cache_27122/lane_1.taglist","--compression-level","0","-"],"id":"bamindexdecoder","type":"EXEC"},{"name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/27122_1.bam.tag_decode.metrics","id":"decoder_metrics","type":"RAFILE"},{"use_STDIN":true,"description":"run the qc tag_metrics check","comment":"This node is defined as reading stdin, even though this is not true. This bodge is to activate the RAFILE/OUTFILE behaviour and delay execution until after the decoder_metrics output is complete","use_STDOUT":false,"type":"EXEC","id":"qc_tag_metrics_check","cmd":["/software/npg/20180717/bin/qc","--check=tag_metrics","--id_run=27122","--position=1","--qc_in=/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408","--qc_out=/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/qc"]},{"id":"bamcollate","type":"EXEC","cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamcollate2","collate=2","level=0"],"use_STDIN":true,"use_STDOUT":true},{"use_STDIN":true,"use_STDOUT":false,"type":"EXEC","id":"tee_collated","cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"port":"td1","direction":"out"},{"port":"td2","direction":"out"}]},{"use_STDIN":true,"use_STDOUT":true,"id":"simple_cat","type":"EXEC","cmd":"/bin/cat"},{"description":"Prefix for Phix reference","id":"reference_phix","type":"INFILE","name":"/lustre/scratch117/core/sciops_repository/references/PhiX/Sanger-SNPs/all/bwa0_6/phix_unsnipped_short_no_N.fa"},{"use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bam12auxmerge","level=0","rankstrip=1","ranksplit=1","zztoname=0","clipreinsert=1",{"direction":"in","port":"unaln_bam"}],"id":"bammerge","type":"EXEC"},{"description":"Create a spatial filter","use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/bambi/0.11.1/bin/bambi","spatial_filter","-c","-t","/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/qc/tileviz/27122_1","-F","/dev/stdout","/dev/stdin"],"id":"create_filter","type":"EXEC"},{"description":"spatial filter file","type":"RAFILE","id":"spatial_filter_file","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/27122_1.spatial_filter"},{"use_STDIN":true,"use_STDOUT":false,"type":"EXEC","id":"tee_split","cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-t",".","-v","-w","500","-m","2G",{"port":"seqchksum","direction":"out"},{"port":"spatial_filter","direction":"out"},{"direction":"out","port":"subsample"},{"port":"fqc","direction":"out"},{"direction":"out","port":"stats"},{"direction":"out","port":"split_bam"}]},{"use_STDIN":true,"description":"Split the BAM file into separate BAM files by Read Group","use_STDOUT":false,"id":"splitter","type":"EXEC","cmd":["/software/sciops/pkg/samtools/1.8+59_g4da22a9/bin/samtools","split","--threads","4","-f","/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/lane1/%!.bam","-"]},{"use_STDIN":true,"use_STDOUT":true,"id":"subsample","type":"EXEC","cmd":["/software/sciops/pkg/samtools/1.8+59_g4da22a9/bin/samtools","view","-s","27122.00054776","-b","-"]},{"use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/samtools/1.8+59_g4da22a9/bin/samtools","fastq","-F","0x200","-1",{"port":"ss_fq1","direction":"out"},"-2",{"direction":"out","port":"ss_fq2"},"--i1",{"direction":"out","port":"ss_fqt"},"--index-format","i99","-"],"id":"bamtofastq_ss","type":"EXEC"},{"type":"OUTFILE","id":"run_lane_ss_fq1","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/.npg_cache_10000/27122_1_1.fastq","description":"lane-level fastq output, read1"},{"name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/.npg_cache_10000/27122_1_2.fastq","type":"OUTFILE","id":"run_lane_ss_fq2","description":"lane-level fastq output, read2"},{"description":"lane-level fastq output, tagread","id":"run_lane_ss_fqt","type":"OUTFILE","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/.npg_cache_10000/27122_1_t.fastq"},{"type":"EXEC","id":"bamtofastq_fqc","cmd":["/software/sciops/pkg/samtools/1.8+59_g4da22a9/bin/samtools","fastq","-F","0x200","-1",{"direction":"out","port":"fq1"},"-2",{"port":"fq2","direction":"out"},"--i1",{"direction":"out","port":"fqt"},"--index-format","i99","-"],"use_STDIN":true,"use_STDOUT":true},{"id":"fastqcheck_r1","type":"EXEC","cmd":["/software/sciops/pkg/npg_qc_utils/65.0/bin/fastqcheck"],"use_STDIN":true,"use_STDOUT":true},{"use_STDIN":true,"use_STDOUT":true,"type":"EXEC","id":"fastqcheck_r2","cmd":["/software/sciops/pkg/npg_qc_utils/65.0/bin/fastqcheck"]},{"type":"EXEC","id":"fastqcheck_rt","cmd":["/software/sciops/pkg/npg_qc_utils/65.0/bin/fastqcheck"],"use_STDIN":true,"use_STDOUT":true},{"description":"lane[1]-level fastqcheck output","type":"OUTFILE","id":"fqc1","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/27122_1_1.fastqcheck"},{"description":"lane[2]-level fastqcheck output","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/27122_1_2.fastqcheck","id":"fqc2","type":"OUTFILE"},{"description":"lane[t]-level fastqcheck output","id":"fqct","type":"OUTFILE","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/archive/27122_1_t.fastqcheck"},{"id":"samtools_stats","type":"EXEC","cmd":["/software/sciops/pkg/samtools/1.8+59_g4da22a9/bin/samtools","stats","-"],"use_STDIN":true,"use_STDOUT":true},{"name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/no_cal/27122_1.stats","type":"OUTFILE","id":"lane_stats_file"},{"type":"EXEC","id":"seqchksum","cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamseqchksum"],"use_STDIN":true,"use_STDOUT":true},{"type":"RAFILE","id":"seqchksum_file","name":"/nfs/sf55/IL_seq_data/analysis/181009_MS3_27122_A_MS7201990-300V2/Data/Intensities/BAM_basecalls_20181010-125408/27122_1.post_i2b.seqchksum"},{"use_STDOUT":true,"use_STDIN":true,"cmd":["/software/sciops/pkg/biobambam2/2.0.79/bin/bamseqchksum"],"id":"seqchksum_input","type":"EXEC"},{"use_STDOUT":true,"use_STDIN":true,"cmd":["/usr/bin/head","-2"],"id":"head_scs1_input","type":"EXEC"},{"use_STDIN":true,"use_STDOUT":true,"type":"EXEC","id":"head_scs2_input","cmd":["/usr/bin/head","-2"]},{"id":"cmp_seqchksum","type":"EXEC","cmd":["/usr/bin/cmp",{"direction":"in","port":"inputchk"},{"direction":"in","port":"outputchk"}],"use_STDIN":false,"description":"check input primary/sequence data matches output","use_STDOUT":false},{"use_STDOUT":false,"use_STDIN":true,"cmd":["/software/sciops/pkg/teepot/1.2.0/bin/teepot","-v","-w","300","-m","1G",{"port":"aln_1","direction":"out"},{"port":"aln_2","direction":"out"},{"port":"sampe_1","direction":"out"},{"direction":"out","port":"sampe_2"}],"type":"EXEC","id":"alnphix_tee4"},{"type":"EXEC","id":"alnphix_bwa_aln_1","cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","aln","-t","3","-b1",{"port":"reference_genome_fasta","direction":"in"},{"direction":"in","port":"bam_in"}],"use_STDIN":false,"use_STDOUT":true},{"id":"alnphix_bwa_aln_2","type":"EXEC","cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","aln","-t","3","-b2",{"direction":"in","port":"reference_genome_fasta"},{"direction":"in","port":"bam_in"}],"use_STDIN":false,"use_STDOUT":true},{"use_STDIN":true,"use_STDOUT":true,"type":"EXEC","id":"alnphix_simple_cat1","cmd":"/bin/cat"},{"id":"alnphix_simple_cat2","type":"EXEC","cmd":"/bin/cat","use_STDIN":true,"use_STDOUT":true},{"use_STDIN":false,"use_STDOUT":true,"type":"EXEC","id":"alnphix_bwa_sampe","cmd":["/software/sciops/pkg/bwa-aligner/0.7.17/bin/bwa","sampe",{"direction":"in","port":"reference_genome_fasta"},{"direction":"in","port":"sai_1"},{"port":"sai_2","direction":"in"},{"port":"bam_1","direction":"in"},{"port":"bam_2","direction":"in"}]},{"id":"alnphix_samtobam","type":"EXEC","cmd":["/software/sciops/pkg/staden_io_bin/1.14.9/bin/scramble","-0","-t","3","-I","sam","-O","bam"],"use_STDIN":true,"use_STDOUT":true}],"edges":[{"to":"tee_i2b","from":"illumina2bam","id":"illumina2bam_to_ti2b"},{"id":"ti2b_to_bamadapterfind","from":"tee_i2b:baf","to":"bamadapterfind"},{"from":"bamadapterfind","id":"bamadapterfind_to_decoder","to":"bamindexdecoder"},{"to":"decoder_metrics","id":"decoder_to_metrics","from":"bamindexdecoder:metrics_file"},{"from":"decoder_metrics","id":"decoder_metrics_to_qc_tag_metrics","to":"qc_tag_metrics_check"},{"to":"bamcollate","from":"bamindexdecoder","id":"bamindexdecoder_to_collate"},{"id":"collate_to_tee","from":"bamcollate","to":"tee_collated"},{"from":"tee_collated:td1","id":"tee_collated_to_cat","to":"simple_cat"},{"id":"cat_to_merge","from":"simple_cat","to":"bammerge:unaln_bam"},{"id":"tee_collated_to_alignment","from":"tee_collated:td2","to":"alnphix_tee4"},{"from":"reference_phix","id":"ref_to_alignment","to":"alnphix_bwa_aln_1:reference_genome_fasta"},{"from":"alnphix_samtobam","id":"alignment_to_merge","to":"bammerge"},{"to":"tee_split","from":"bammerge","id":"merge_to_tee"},{"to":"create_filter","from":"tee_split:spatial_filter","id":"tee_to_create_filter"},{"to":"spatial_filter_file","id":"create_filter_to_file","from":"create_filter"},{"to":"subsample","id":"tee_to_ss","from":"tee_split:subsample"},{"to":"bamtofastq_ss","from":"subsample","id":"ss_to_b2fqss"},{"id":"b2fqss_to_fq1","from":"bamtofastq_ss:ss_fq1","to":"run_lane_ss_fq1"},{"from":"bamtofastq_ss:ss_fq2","id":"b2fqss_to_fq2","to":"run_lane_ss_fq2"},{"to":"run_lane_ss_fqt","id":"b2fqss_to_fqt","from":"bamtofastq_ss:ss_fqt"},{"from":"tee_split:fqc","id":"tee_to_b2fqfqc","to":"bamtofastq_fqc"},{"to":"fastqcheck_r1","from":"bamtofastq_fqc:fq1","id":"fq_to_fqc1"},{"from":"bamtofastq_fqc:fq2","id":"fq_to_fqc2","to":"fastqcheck_r2"},{"id":"fq_to_fqct","from":"bamtofastq_fqc:fqt","to":"fastqcheck_rt"},{"to":"fqc1","id":"fqc_to_f1","from":"fastqcheck_r1"},{"id":"fqc_to_f2","from":"fastqcheck_r2","to":"fqc2"},{"to":"fqct","from":"fastqcheck_rt","id":"fqc_to_ft"},{"to":"samtools_stats","from":"tee_split:stats","id":"tee_to_stats"},{"to":"lane_stats_file","id":"stats_to_file","from":"samtools_stats"},{"from":"tee_split:split_bam","id":"tee_to_splitter","to":"splitter"},{"to":"seqchksum","id":"tee_to_seqchksum","from":"tee_split:seqchksum"},{"id":"fs1p_to_tee","from":"seqchksum","to":"seqchksum_file"},{"to":"head_scs2_input","id":"fopt_to_scs","from":"seqchksum_file"},{"id":"input_chksum_to_scs1head","from":"seqchksum_input","to":"head_scs1_input"},{"to":"cmp_seqchksum:inputchk","from":"head_scs1_input","id":"scs1head_to_cmp"},{"to":"cmp_seqchksum:outputchk","id":"scs2head_to_cmp","from":"head_scs2_input"},{"to":"seqchksum_input","from":"tee_i2b:scs","id":"ti2b_to_bam"},{"to":"alnphix_bwa_aln_1:bam_in","id":"bwa_aln_bam1","from":"alnphix_tee4:aln_1"},{"to":"alnphix_bwa_aln_2:bam_in","id":"bwa_aln_bam2","from":"alnphix_tee4:aln_2"},{"to":"alnphix_simple_cat1","from":"alnphix_tee4:sampe_1","id":"tee_to_cat1"},{"id":"cat1_to_sampe1","from":"alnphix_simple_cat1","to":"alnphix_bwa_sampe:bam_1"},{"to":"alnphix_simple_cat2","from":"alnphix_tee4:sampe_2","id":"tee_to_cat2"},{"id":"cat1_to_sampe2","from":"alnphix_simple_cat2","to":"alnphix_bwa_sampe:bam_2"},{"to":"alnphix_bwa_sampe:sai_1","from":"alnphix_bwa_aln_1","id":"aln1_sai_to_sampe"},{"to":"alnphix_bwa_sampe:sai_2","id":"aln2_sai_to_sampe","from":"alnphix_bwa_aln_2"},{"to":"alnphix_samtobam","from":"alnphix_bwa_sampe","id":"bwa_sampe_to_scramble"},{"from":"reference_phix","id":"ref_to_alignment","to":"alnphix_bwa_aln_2:reference_genome_fasta"},{"from":"reference_phix","id":"ref_to_alignment","to":"alnphix_bwa_sampe:reference_genome_fasta"}],"version":"2.0"}